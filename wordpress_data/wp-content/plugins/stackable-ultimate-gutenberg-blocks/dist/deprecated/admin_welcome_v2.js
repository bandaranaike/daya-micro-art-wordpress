/*! For license information please see admin_welcome_v2.js.LICENSE.txt */
(()=>{var e={4184:(e,t)=>{var l;!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var a=typeof l;if("string"===a||"number"===a)e.push(l);else if(Array.isArray(l)){if(l.length){var s=n.apply(null,l);s&&e.push(s)}}else if("object"===a)if(l.toString===Object.prototype.toString)for(var o in l)i.call(l,o)&&l[o]&&e.push(o);else e.push(l.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(l=function(){return n}.apply(t,[]))||(e.exports=l)}()}},t={};function l(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=wp.element,t=wp.i18n,i=stackable,n={"ugb/accordion":{title:(0,t._x)("Accordion","block title",i.i18n)},"ugb/text":{title:(0,t._x)("Advanced Text","block title",i.i18n)},"ugb/heading":{title:(0,t._x)("Advanced Heading","block title",i.i18n)},"ugb/blockquote":{title:(0,t._x)("Blockquote","block title",i.i18n)},"ugb/blog-posts":{title:(0,t._x)("Blog Posts","block title",i.i18n)},"ugb/button":{title:(0,t._x)("Button","block title",i.i18n)},"ugb/cta":{title:(0,t._x)("Call to Action","block title",i.i18n)},"ugb/card":{title:(0,t._x)("Card","block title",i.i18n)},"ugb/columns":{title:(0,t._x)("Columns","block title",i.i18n)},"ugb/container":{title:(0,t._x)("Container","block title",i.i18n)},"ugb/count-up":{title:(0,t._x)("Count Up","block title",i.i18n)},"ugb/divider":{title:(0,t._x)("Divider","block title",i.i18n)},"ugb/expand":{title:(0,t._x)("Expand / Show More","block title",i.i18n)},"ugb/feature-grid":{title:(0,t._x)("Feature Grid","block title",i.i18n)},"ugb/feature":{title:(0,t._x)("Feature","block title",i.i18n)},"ugb/header":{title:(0,t._x)("Header","block title",i.i18n)},"ugb/icon":{title:(0,t._x)("Icon","block title",i.i18n)},"ugb/icon-list":{title:(0,t._x)("Icon List","block title",i.i18n)},"ugb/image-box":{title:(0,t._x)("Image Box","block title",i.i18n)},"ugb/notification":{title:(0,t._x)("Notification","block title",i.i18n)},"ugb/number-box":{title:(0,t._x)("Number Box","block title",i.i18n)},"ugb/pricing-box":{title:(0,t._x)("Pricing Box","block title",i.i18n)},"ugb/separator":{title:(0,t._x)("Separator","block title",i.i18n)},"ugb/spacer":{title:(0,t._x)("Spacer","block title",i.i18n)},"ugb/team-member":{title:(0,t._x)("Team Member","block title",i.i18n)},"ugb/testimonial":{title:(0,t._x)("Testimonial","block title",i.i18n)},"ugb/video-popup":{title:(0,t._x)("Video Popup","block title",i.i18n)}},a=wp.ajax,s=wp.components,o=wp.api;function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},c.apply(this,arguments)}var r=l(4184),b=l.n(r);let d=1;const u=t=>{const[l]=(0,e.useState)("ugb-admin-setting-"+d++),i=b()(["ugb-admin-setting",t.className],{[`ugb-admin-setting--${t.size}`]:t.size});return(0,e.createElement)("div",{className:i,id:l},(0,e.createElement)("label",{className:"ugb-admin-setting__label-wrapper",htmlFor:l,onClick:t.onClick},!!t.label&&(0,e.createElement)("span",{className:"ugb-admin-setting__label"},t.label),(0,e.createElement)("div",{className:"ugb-admin-setting__field"},t.children)),t.help&&(0,e.createElement)("p",{className:"ugb-admin-setting__help"},t.help))};u.defaultProps={label:"",onClick:()=>{}};const g=u,p=t=>{const l=(0,e.createRef)();return(0,e.createElement)(g,c({onClick:e=>{t.onChange(!t.value),e.preventDefault(),l.current.focus()}},t,{className:b()(t.className,"ugb-admin-toggle-setting")}),(0,e.createElement)("button",{ref:l,className:b()("ugb-admin-toggle-setting__button",{"ugb-admin-toggle-setting__button--enabled":!!t.value}),type:"button",role:"switch","aria-checked":!!t.value,onClick:e=>{t.onChange(!t.value),e.preventDefault(),e.stopPropagation()},style:{minWidth:t.width||void 0},disabled:t.isDisabled?"disabled":""}),(0,e.createElement)("span",{className:"ugb-admin-toggle-setting__label"},(0,e.createElement)("span",{style:{visibility:t.value?"visible":"hidden"}},t.enabled),(0,e.createElement)("span",{style:{visibility:t.value?"hidden":"visible"}},t.disabled)))};p.defaultProps={label:"",value:!1,placeholder:"",onChange:()=>{},disabled:(0,t.__)("Disabled",i.i18n),enabled:(0,t.__)("Enabled",i.i18n),width:"",isDisabled:!1};const m=p,k=t=>e.createRoot?(0,e.createRoot)(t):{render:e=>wp.element.render(e,t),unmount:()=>wp.element.unmountComponentAtNode(t)};class _ extends e.Component{constructor(){super(...arguments),this.toggleBlock=this.toggleBlock.bind(this),this.enableAllBlocks=this.enableAllBlocks.bind(this),this.disableAllBlocks=this.disableAllBlocks.bind(this),this.ajaxTimeout=null,this.state={disabledBlocks:this.props.disabledBlocks||[],isSaving:!1}}componentDidUpdate(e,t){this.state.disabledBlocks!==t.disabledBlocks&&(clearTimeout(this.ajaxTimeout),this.ajaxTimeout=setTimeout((()=>{(0,a.send)("stackable_update_disable_blocks_v2",{success:()=>{this.setState({isSaving:!1})},error:e=>{this.setState({isSaving:!1}),alert(e)},data:{nonce:i.v2nonce,disabledBlocks:this.state.disabledBlocks}}),this.setState({isSaving:!0})}),600))}toggleBlock(e){this.state.disabledBlocks.includes(e)?this.setState({disabledBlocks:this.state.disabledBlocks.filter((t=>t!==e))}):this.setState({disabledBlocks:[...this.state.disabledBlocks,e]})}enableAllBlocks(){this.setState({disabledBlocks:[]})}disableAllBlocks(){this.setState({disabledBlocks:Object.keys(this.props.blocks)})}render(){const{blocks:l}=this.props;return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"s-settings-header"},this.state.isSaving&&(0,e.createElement)(s.Spinner,null),(0,e.createElement)("button",{onClick:this.enableAllBlocks,className:"button button-large button-link"},(0,t.__)("Enable All",i.i18n)),(0,e.createElement)("button",{onClick:this.disableAllBlocks,className:"button button-large button-link"},(0,t.__)("Disable All",i.i18n))),(0,e.createElement)("div",{className:"s-settings-grid",style:{rowGap:0}},Object.keys(l).map(((n,a)=>{const s=l[n];if(s.sDeprecated)return null;const o=this.state.disabledBlocks.includes(n);return(0,e.createElement)(m,{key:a,label:(0,t.__)(s.title,i.i18n),value:!o,onChange:()=>this.toggleBlock(n),size:"small",disabled:(0,t.__)("Disabled",i.i18n),enabled:(0,t.__)("Enabled",i.i18n)})}))))}}const h=()=>{const[l,n]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{o.loadPromise.then((()=>{(new o.models.Settings).fetch().then((e=>{n(!!e.stackable_optimize_script_load)}))}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(m,{label:(0,t.__)("Frontend JS & CSS Files",i.i18n),value:l,onChange:e=>{new o.models.Settings({stackable_optimize_script_load:e}).save(),n(e)},disabled:(0,t.__)("Load across entire site",i.i18n),enabled:(0,t.__)("Load only in posts with Stackable blocks",i.i18n)}))};var v;v=()=>{document.querySelector(".s-settings-wrapper-v2")&&k(document.querySelector(".s-settings-wrapper-v2")).render((0,e.createElement)(_,{blocks:n,disabledBlocks:i.v2disabledBlocks})),document.querySelector(".s-optimization-settings")&&k(document.querySelector(".s-optimization-settings")).render((0,e.createElement)(h,null))},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",v):v())})()})();